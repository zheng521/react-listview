!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ReactListView=t(require("React")):e.ReactListView=t(e.React)}(this,function(e){return function(e){function t(a){if(r[a])return r[a].exports;var s=r[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}(function(e){for(var t in e)switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var r=t.slice(1),a=e[t[0]];return function(e,t,s){a.apply(null,[e,t,s].concat(r))}}(e[t])}return e}([function(e,t,r){"use strict";function a(){}var s=r(1),o=r(4),i=r(6),n=s.createFactory(i),l=r(5),c=s.createFactory(l),d=r(2),p=s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]);e.exports=s.createClass({displayName:"ReactListView",propTypes:{renderText:s.PropTypes.func,title:p,rowHeight:p,data:s.PropTypes.array,loading:s.PropTypes.bool,emptyText:s.PropTypes.string,loadingText:s.PropTypes.string,idProperty:s.PropTypes.string,displayProperty:s.PropTypes.string,selected:s.PropTypes.object,sortable:s.PropTypes.bool,sortDirection:p,toggleSort:s.PropTypes.func},getDefaultProps:function(){return{rowBoundMethods:{onRowMouseDown:"onMouseDown",onRowMouseUp:"onMouseup"},sortable:!0,selectRowOnClick:!0,idProperty:"id",displayProperty:"text",emptyText:"No records",loadingText:"",rowHeight:null,defaultStyle:{},defaultListStyle:{}}},getInitialState:function(){return{}},render:function(){var e=this.prepareProps(this.props),t=this.renderTitle(e),r=this.renderBody(e);return e.data=null,s.createElement("div",s.__spread({},e),t,r)},prepareProps:function(e){var t=d({},e);return t.style=this.prepareStyle(t),t.titleStyle=this.prepareTitleStyle(t),t.bodyStyle=this.prepareBodyStyle(t),t.listWrapStyle=this.prepareListWrapStyle(t),t.rowStyle=this.prepareRowStyle(t),t.className=this.prepareClassName(t),t},prepareStyle:function(e){var t={};return d(t,e.defaultStyle,e.style),t},prepareClassName:function(e){var t=e.className||"";t+=" z-listview",this.getCount(e)||(t+=" z-empty");var r=e.sortable?" z-sortable":"";return e.sortable&&e.sortDirection&&(r+="asc"===e.sortDirection||1===e.sortDirection?" z-asc":"desc"===e.sortDirection||-1===e.sortDirection?" z-desc":""),t+=r},prepareBodyStyle:function(e){var t=d({},e.defaultBodyStyle,e.bodyStyle);return t},prepareTitleStyle:function(e){var t=d({},e.defaultTitleStyle,e.titleStyle);return t},prepareRowStyle:function(e){var t=d({},e.defaultRowStyle,e.rowStyle,{height:e.rowHeight});return t},prepareListWrapStyle:function(e){var t={};return d(t,e.defaultListStyle,{border:e.listBorder,width:e.listWidth||e.listSize,height:e.listHeight||e.listSize,maxHeight:e.listMaxHeight,maxWidth:e.listMaxWidth},e.listStyle),t},renderTitle:function(e){return e.title?(e.titleFactory||n)({style:e.titleStyle,className:(e.titleClassName||"")+" z-title",onClick:this.handleTitleClick.bind(this,e)},e.title,this.renderTitleSort(e)):void 0},renderTitleSort:function(e){return e.sortable!==!1?s.createElement("span",{className:"z-icon-sort-info"}):void 0},renderBody:function(e){var t=e.bodyClassName||"";return t+=" z-body",s.createElement("div",{className:t,style:e.bodyStyle},this.renderListWrap(e),s.createElement(o,{visible:e.loading}))},renderListWrap:function(e){return s.createElement("div",{className:"z-list-wrap",style:e.listWrapStyle},s.createElement("div",{className:"z-scroller"},this.renderList(e)))},getCount:function(e){return e.data?e.data.length:0},handleTitleClick:function(e){e.sortable&&(e.toggleSort||this.toggleSort)(e)},toggleSort:function(e){var t,r="asc"===e.sortDirection?1:"desc"===e.sortDirection?-1:e.sortDirection;t=1!=r&&-1!=r?1:1===r?-1:-1===r?0:1,(e.onSortChange||a)(t,e)},renderList:function(e){var t="z-list",r=this.getCount(e),a=!1;r||(a=!0,t+=" z-empty");var o=e.data||[];return s.createElement("ul",{className:t,style:e.listTagStyle},a?this.renderEmpty(e):o.map(this.renderRow.bind(this,e)))},renderEmpty:function(e){return s.createElement("li",{className:"z-row-empty"},e.loading?e.loadingText:e.emptyText)},renderRow:function(e,t,r,a){var s=t[e.idProperty],o=t[e.displayProperty];"function"==typeof e.renderText&&(o=e.renderText(o,t,r,e));var i="";e.selected&&e.selected[s]&&(i+=" z-selected");var n={key:s,style:e.rowStyle,index:r,first:0===r,last:r===a.length-1,item:t,className:i,onClick:this.handleRowClick.bind(this,t,r,e),children:o};return this.bindRowMethods(e,n,e.rowBoundMethods,t,r),n.className=this.prepareRowClassName(n,this.state),(e.rowFactory||c)(n)},bindRowMethods:function(e,t,r,a,s){Object.keys(r).forEach(function(o){var i=r[o];e[o]&&(t[i]=e[o].bind(this,a,s,e))},this)},prepareRowClassName:function(e){var t=e.index,r=(e.className||"")+" z-row";return r+=t%2?" z-odd":" z-even",e.first&&(r+=" z-first"),e.last&&(r+=" z-last"),r},handleRowClick:function(e,t,r,s){if(r.selectRowOnClick){var o=e[r.idProperty],i=r.selected||{},n=!!i[o],l=n?"onDeselect":"onSelect";(r[l]||a)(o,e,t,i,r),(r.onSelectionChange||a)(o,e,t,i,r)}(r.onRowClick||a)(e,t,r,s)}})},function(t){t.exports=e},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var r,a,s=t(e),o=1;o<arguments.length;o++){r=arguments[o],a=Object.keys(Object(r));for(var i=0;i<a.length;i++)s[a[i]]=r[a[i]]}return s}},2,function(e,t,r){"use strict";var a=r(1),s=r(3),o=r(7);e.exports=a.createClass({displayName:"LoadMask",getDefaultProps:function(){return{visibleDisplayValue:"block",defaultStyle:{position:"absolute",width:"100%",height:"100%",display:"none",top:0,left:0}}},render:function(){var e=s({},this.props);return this.prepareStyle(e),e.className=e.className||"",e.className+=" loadmask",a.DOM.div(e,a.createElement(o,{size:e.size}))},prepareStyle:function(e){var t={};s(t,e.defaultStyle),s(t,e.style),t.display=e.visible?e.visibleDisplayValue:"none",e.style=t}})},function(e,t,r){"use strict";var a=r(1),s=r(2);e.exports=a.createClass({displayName:"ReactListView.Row",render:function(){var e=this.prepareProps(this.props,this.state);return a.createElement("li",a.__spread({},e))},getInitialState:function(){return{}},prepareProps:function(e,t){var r={};return s(r,e),r.onMouseOver=this.handleMouseOver,r.onMouseOut=this.handleMouseOut,r.className=this.prepareClassName(r,t),r},prepareClassName:function(e,t){var r=(e.index,e.className||"");return t.mouseOver&&(r+=" z-over"),r},handleMouseOver:function(){this.setState({mouseOver:!0})},handleMouseOut:function(){this.setState({mouseOver:!1})}})},function(e,t,r){"use strict";var a=r(1),s=r(2);e.exports=a.createClass({displayName:"ReactListView.Title",getDefaultProps:function(){return{title:""}},render:function(){var e=this.prepareProps(this.props);return a.createElement("div",a.__spread({},e))},prepareProps:function(e){var t={};return s(t,e),t}})},function(e,t,r){"use strict";var a=r(1),s=r(3);e.exports=a.createClass({displayName:"Loader",getDefaultProps:function(){return{defaultStyle:{margin:"auto",position:"absolute",top:0,left:0,bottom:0,right:0},defaultClassName:"loader",size:40}},render:function(){var e=s({},this.props);return this.prepareStyle(e),e.className=e.className||"",e.className+=" "+e.defaultClassName,a.DOM.div(e,a.createElement("div",{className:"loadbar loadbar-1"}),a.createElement("div",{className:"loadbar loadbar-2"}),a.createElement("div",{className:"loadbar loadbar-3"}),a.createElement("div",{className:"loadbar loadbar-4"}),a.createElement("div",{className:"loadbar loadbar-5"}),a.createElement("div",{className:"loadbar loadbar-6"}),a.createElement("div",{className:"loadbar loadbar-7"}),a.createElement("div",{className:"loadbar loadbar-8"}),a.createElement("div",{className:"loadbar loadbar-9"}),a.createElement("div",{className:"loadbar loadbar-10"}),a.createElement("div",{className:"loadbar loadbar-11"}),a.createElement("div",{className:"loadbar loadbar-12"}))},prepareStyle:function(e){var t={};s(t,e.defaultStyle),s(t,e.style),t.width=e.size,t.height=e.size,e.style=t}})}]))});